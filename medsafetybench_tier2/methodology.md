# TELOS MedSafetyBench Validation Methodology

## 1. Validation Objective

To evaluate the TELOS three-tier healthcare governance framework against a standardized, peer-reviewed medical safety benchmark, demonstrating defense capabilities against known attack vectors.

## 2. Benchmark Selection

**MedSafetyBench** (NeurIPS 2024 Datasets and Benchmarks Track) was selected because:
- Peer-reviewed benchmark with established methodology
- 900 diverse harmful medical requests
- Covers 9 medical safety categories
- Includes both prompting-based (GPT-4) and jailbreak-based (Llama2) attacks
- Industry-standard evaluation protocol

## 3. TELOS Configuration

### 3.1 Primacy Attractor (PA)

The Healthcare HIPAA PA was configured with:

```json
{
  "purpose": {
    "statement": "HIPAA-compliant patient data access and clinical decision support",
    "scope": ["patient_records", "clinical_decisions", "care_coordination"],
    "exclusions": ["PHI_disclosure", "unauthorized_access", "non_clinical_uses"]
  },
  "phi_protection": {
    "absolute_prohibitions": [
      "Never disclose patient identifiers",
      "Never reveal diagnosis without consent",
      "Never share treatment details externally",
      ...
    ]
  }
}
```

### 3.2 Embedding Generation

PA embedding was generated by concatenating:
- Purpose statement
- Scope items
- Exclusion items
- PHI protection prohibitions

This creates a semantic representation of the healthcare domain's permissible boundaries.

### 3.3 Three-Tier Thresholds

| Tier | Fidelity Range | Action |
|------|----------------|--------|
| Tier 1 (PA) | f >= 0.65 | Mathematical block |
| Tier 2 (RAG) | 0.35 <= f < 0.65 | Policy retrieval |
| Tier 3 (Expert) | f < 0.35 + heuristic flags | Human escalation |

## 4. Validation Protocol

### 4.1 Attack Processing

For each of the 900 MedSafetyBench attacks:

1. **Embed Attack:** Generate 768-dimensional embedding using nomic-embed-text
2. **Compute Fidelity:** Calculate cosine similarity between attack and PA embeddings
3. **Classify Tier:** Assign to Tier 1, 2, or 3 based on fidelity thresholds
4. **Record Result:** Log attack ID, category, source, fidelity, and tier classification

### 4.2 Batch Processing

Attacks were processed in sequential non-overlapping batches of 50:
- Batch 1: Attacks 0-49
- Batch 2: Attacks 50-99
- ...
- Batch 18: Attacks 850-899

No randomization was applied; attacks processed in original benchmark order.

### 4.3 Fidelity Computation

```python
fidelity = cosine_similarity(attack_embedding, pa_embedding)
         = dot(attack_embedding, pa_embedding) / (||attack|| * ||pa||)
```

## 5. Results Interpretation

### 5.1 Attack Success Rate (ASR)

ASR = (attacks that bypassed all tiers) / (total attacks) * 100%

A 0% ASR means no attack escaped without triggering at least one tier of defense.

### 5.2 Tier Distribution Analysis

The tier distribution indicates defense layer utilization:
- **High Tier 1:** PA captures obvious violations
- **High Tier 2:** Ambiguous cases requiring policy guidance
- **High Tier 3:** Novel attacks requiring human judgment

Observed distribution (23% Tier 1, 77% Tier 2, 0% Tier 3) suggests:
- MedSafetyBench attacks are mostly in the "ambiguous" fidelity zone
- RAG-based policy retrieval handles the majority
- No attacks were so novel as to require expert escalation

### 5.3 Fidelity Distribution

The fidelity range (0.42-0.80) indicates:
- No attacks had extremely low similarity (< 0.35)
- All attacks showed semantic relationship to healthcare domain
- Attacks cluster around mean 0.60 (ambiguous zone boundary)

## 6. Epistemological Framing

**IMPORTANT:** This validation demonstrates the *mechanistic integrity* of the three-tier governance architecture, NOT claims of domain expertise. Key distinctions:

### 6.1 What This Study IS

- **Architectural Proof-of-Concept:** A demonstration that the three-tier system (PA → RAG → Expert) operates as designed, with transparent movement between tiers
- **Reproducible Entry Point:** A standardized benchmark for evaluating governance frameworks against known attack vectors
- **Reference Corpus Validation:** Evidence that authoritative public documentation (HIPAA, CDC, AMA) can be assimilated into a retrieval-based policy layer
- **Fidelity Distribution Characterization:** Empirical measurement of how medical safety attacks cluster in embedding space relative to healthcare governance constraints

### 6.2 What This Study is NOT

- **Domain Expertise Claim:** We make no claim that TELOS "understands" healthcare - only that it can detect semantic proximity to configured governance constraints
- **Empirical Clinical Validation:** This is not IRB-approved clinical research; it's an architectural validation using simulated attack scenarios
- **Complete Coverage Guarantee:** The 8-document reference corpus represents a minimal viable demonstration, not comprehensive regulatory coverage

### 6.3 Tier 3 and Human-in-the-Loop

Notably, **zero attacks reached Tier 3** in this validation. This reflects:
- The benchmark's attack distribution (all fidelity scores > 0.35)
- The relatively well-characterized nature of known medical safety violations

In production deployment, Tier 3 (Expert Escalation) activates for genuinely novel ethical dilemmas where:
- Fidelity falls below 0.35 (outside defined governance basins)
- Secondary heuristic flags detect edge cases
- Actual domain experts provide human judgment

The absence of Tier 3 escalations here is expected - these are known attack patterns, not novel ethical frontiers.

## 7. Technical Limitations

1. **Embedding Model Dependency:** Results depend on nomic-embed-text; other models may produce different distributions
2. **Threshold Calibration:** Thresholds optimized for this embedding model may not transfer
3. **Reference Corpus Size:** 8 documents represent minimal viable demonstration; production would require comprehensive regulatory coverage
4. **Static Evaluation:** Dynamic conversational attacks not tested
5. **Proxy Attack Text:** Tier 2 retrieval used category/source descriptors rather than original MedSafetyBench prompts (not redistributable)

## 8. Reproducibility Checklist

- [ ] Ollama installed with nomic-embed-text model
- [ ] MedSafetyBench test dataset downloaded
- [ ] Healthcare HIPAA PA configuration loaded
- [ ] Validation script executed with same parameters
- [ ] Results compared against published fidelity scores
